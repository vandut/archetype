webpackJsonp([1,5],{"/fcW":function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="/fcW"},0:function(e,t,n){e.exports=n("x35b")},"4Lvp":function(e,t,n){"use strict";var i=n("gLDo"),r=n("vItg"),o=n("6M9h"),l=n("Uicy");n.d(t,"a",function(){return a});var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=function(){function e(e,t){this.dragService=e,this.draggableItemService=t}return Object.defineProperty(e.prototype,"target",{set:function(e){this.selectionTarget=this.draggableItemService.getDraggableItem(e)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){o.a.registerDragEventListener(this.getDraggableItem(this.background),new u(this.dragService,this)),o.a.registerDragEventListener(this.getDraggableItem(this.resizeN),new u(this.dragService,this,"Resize_N")),o.a.registerDragEventListener(this.getDraggableItem(this.resizeS),new u(this.dragService,this,"Resize_S")),o.a.registerDragEventListener(this.getDraggableItem(this.resizeW),new u(this.dragService,this,"Resize_W")),o.a.registerDragEventListener(this.getDraggableItem(this.resizeE),new u(this.dragService,this,"Resize_E")),o.a.registerDragEventListener(this.getDraggableItem(this.resizeNW),new u(this.dragService,this,"Resize_NW")),o.a.registerDragEventListener(this.getDraggableItem(this.resizeNE),new u(this.dragService,this,"Resize_NE")),o.a.registerDragEventListener(this.getDraggableItem(this.resizeSW),new u(this.dragService,this,"Resize_SW")),o.a.registerDragEventListener(this.getDraggableItem(this.resizeSE),new u(this.dragService,this,"Resize_SE"))},e.prototype.getDraggableItem=function(e){return this.draggableItemService.getDraggableItem(e.nativeElement)},e.ctorParameters=function(){return[{type:i.a},{type:l.a}]},e}(),u=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.selectionComponent=n,r.customResizeType=i,r}return s(t,e),t.prototype.onTap=function(t,n){e.prototype.onTap.call(this,this.selectionComponent.selectionTarget,n)},t.prototype.onPanStart=function(t,n,i){e.prototype.onPanStart.call(this,this.selectionComponent.selectionTarget,n,this.customResizeType)},t.prototype.onPanMove=function(t){e.prototype.onPanMove.call(this,t)},t.prototype.onPanEnd=function(t){e.prototype.onPanEnd.call(this,t)},t.prototype.onPanCancel=function(t){e.prototype.onPanCancel.call(this,t)},t}(r.a)},"6M9h":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e.configureHammer=function(e){var t=new Hammer(e.getDom());return t.get("pan").set({direction:Hammer.DIRECTION_ALL,threshold:0}),t},e.registerDragEventListener=function(t,n){var i=e.configureHammer(t);i.on("tap",function(e){return n.onTap(t,e.center)}),i.on("panstart",function(e){return n.onPanStart(t,e.center,null)}),i.on("panmove",function(e){return n.onPanMove(e.center)}),i.on("panend",function(e){return n.onPanEnd(e.center)}),i.on("pancancel",function(e){return n.onPanCancel(e.center)}),t.getDom().addEventListener("mousedown",function(e){return n.diffuseClick(e)})},e.registerEventDelegator=function(t){var n=e.configureHammer(t);n.on("tap",function(n){return e.delegateEvent(t,n)}),n.on("panstart",function(n){return e.delegateEvent(t,n)}),n.on("panmove",function(n){return e.delegateEvent(t,n)}),n.on("panend",function(n){return e.delegateEvent(t,n)}),n.on("pancancel",function(n){return e.delegateEvent(t,n)}),t.getDom().addEventListener("mousedown",function(n){return e.delegateEvent(t,n)})},e.delegateEvent=function(e,t){var n=new CustomEvent(t.type+"-delegate",{detail:t,bubbles:!0});e.getDom().dispatchEvent(n)},e}()},"6rcD":function(e,t,n){"use strict";var i=n("qnho");n.d(t,"a",function(){return r});var r=function(){function e(e){this.elementRepositoryService=e,this.activedropZone=null}return e.prototype.onPanMove=function(e){var t=this.tree.findDropZone(e.center);this.highlightDropZone(t)},e.prototype.onPanEnd=function(e){var t=this.tree.findDropZone(e.center);t&&this.moveItem(e.srcEvent.target,t.nativeElement),this.highlightDropZone(null)},e.prototype.onPanCancel=function(e){this.highlightDropZone(null)},e.prototype.highlightDropZone=function(e){!e&&this.activedropZone&&(this.activedropZone.nativeElement.dataset.active="false"),e&&this.activedropZone&&e!==this.activedropZone&&(this.activedropZone.nativeElement.dataset.active="false"),e&&(this.activedropZone=e,this.activedropZone.nativeElement.dataset.active="true")},e.prototype.moveItem=function(e,t){var n=e.dataset.nodeId;t.dataset.before?this.elementRepositoryService.moveItemBefore(n,t.dataset.before):t.dataset.after?this.elementRepositoryService.moveItemAfter(n,t.dataset.after):t.dataset.nodeId&&this.elementRepositoryService.moveItemInside(n,t.dataset.nodeId)},e.ctorParameters=function(){return[{type:i.a}]},e}()},ALXh:function(e,t,n){"use strict";var i=n("3j3K"),r=n("MHwn"),o=n("XrFs");n.d(t,"a",function(){return l});var l=function(){function e(e,t){this.elementRef=e,this.elementSelectionService=t,this.tree=[]}return e.prototype.onNodeClick=function(e){this.elementSelectionService.select(e)},e.prototype.findDropZone=function(e){var t=this.dropZones.find(function(t){return o.a.isInsideElement(t,e)});if(t)return t;var n=this.nestedTrees.find(function(t){return o.a.isInsideElement(t.elementRef,e)});return n?n.findDropZone(e):void 0},e.ctorParameters=function(){return[{type:i.V},{type:r.a}]},e}()},BBhp:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){this.dropZones=[]}return e.prototype.addDropZone=function(e){this.dropZones.push(e)},e.prototype.removeDropZone=function(e){var t=this.dropZones.indexOf(e);t>-1&&this.dropZones.splice(t,1)},e.prototype.findDropZone=function(e,t){return this.dropZones.find(function(n){return n.isInDropZone(e,t)})},e}()},BjU0:function(e,t,n){"use strict";var i=n("gLDo"),r=n("6M9h"),o=n("Uicy");n.d(t,"a",function(){return l});var l=function(){function e(e,t){this.dragService=e,this.draggableItemService=t}return e.registerAsDraggable=function(e){e.enableDrag(),r.a.registerEventDelegator(e)},e.prototype.diffuseClick=function(e){var t=this.draggableItemService.getDraggableItem(e.target);this.isAllowed(t)&&this.dragService.diffuseClick(e.detail)},e.prototype.onTap=function(e){var t=this.draggableItemService.getDraggableItem(e.target);this.isAllowed(t)&&this.dragService.onTap(t,e.detail.center)},e.prototype.onPanStart=function(e){var t=this.draggableItemService.getDraggableItem(e.target);this.isAllowed(t)&&this.dragService.onPanStart(t,e.detail.center)},e.prototype.onPanMove=function(e){var t=this.draggableItemService.getDraggableItem(e.target);this.isAllowed(t)&&this.dragService.onPanMove(e.detail.center)},e.prototype.onPanEnd=function(e){var t=this.draggableItemService.getDraggableItem(e.target);this.isAllowed(t)&&this.dragService.onPanEnd(e.detail.center)},e.prototype.onPanCancel=function(e){var t=this.draggableItemService.getDraggableItem(e.target);this.isAllowed(t)&&this.dragService.onPanCancel(e.detail.center)},e.prototype.isAllowed=function(e){return e.isDragEnabled()&&e.isMovable()},e.ctorParameters=function(){return[{type:i.a},{type:o.a}]},e}()},ChwI:function(e,t,n){"use strict";function i(e){return o._15(0,[(e()(),o._16(0,null,null,1,"div",[["dragMoveHandler",""],["style","position:absolute;top:0;bottom:0;left:0;right:0"]],null,[[null,"mousedown-delegate"],[null,"tap-delegate"],[null,"panstart-delegate"],[null,"panmove-delegate"],[null,"panend-delegate"],[null,"pancancel-delegate"]],function(e,t,n){var i=!0;if("mousedown-delegate"===t){i=!1!==o._19(e,1).diffuseClick(n)&&i}if("tap-delegate"===t){i=!1!==o._19(e,1).onTap(n)&&i}if("panstart-delegate"===t){i=!1!==o._19(e,1).onPanStart(n)&&i}if("panmove-delegate"===t){i=!1!==o._19(e,1).onPanMove(n)&&i}if("panend-delegate"===t){i=!1!==o._19(e,1).onPanEnd(n)&&i}if("pancancel-delegate"===t){i=!1!==o._19(e,1).onPanCancel(n)&&i}return i},null,null)),o._17(8192,null,0,l.a,[s.a,a.a],null,null)],null,null)}function r(e){return o._15(0,[(e()(),o._16(0,null,null,1,"editor-compositor-layer",[],null,[[null,"tap"],[null,"panstart-delegate"]],function(e,t,n){var i=!0;if("tap"===t){i=!1!==o._19(e,1).onTapHost(n)&&i}if("panstart-delegate"===t){i=!1!==o._19(e,1).onPanStart(n)&&i}return i},i,f)),o._17(122880,null,0,u.a,[o.V,c.a,p.a,d.a,a.a],null,null)],function(e,t){e(t,1,0)},null)}var o=n("3j3K"),l=n("BjU0"),s=n("gLDo"),a=n("Uicy"),u=n("uWzP"),c=n("qnho"),p=n("MHwn"),d=n("BBhp");n.d(t,"b",function(){return f}),t.a=i;var h=[],f=o._14({encapsulation:2,styles:h,data:{}});o._20("editor-compositor-layer",u.a,r,{},{},[])},D9De:function(e,t,n){"use strict";function i(e){return l._15(0,[(e()(),l._16(0,null,null,1,"editor",[],null,null,null,s.a,s.b)),l._17(24576,null,0,a.a,[],null,null),(e()(),l._18(null,["\n\n"])),(e()(),l._16(0,null,null,4,"div",[["class","left-column"]],null,null,null,null,null)),(e()(),l._18(null,["\n  "])),(e()(),l._16(0,null,null,1,"explorer",[],null,[[null,"panmove"],[null,"panend"],[null,"pancancel"]],function(e,t,n){var i=!0;if("panmove"===t){i=!1!==l._19(e,6).onPanMove(n)&&i}if("panend"===t){i=!1!==l._19(e,6).onPanEnd(n)&&i}if("pancancel"===t){i=!1!==l._19(e,6).onPanCancel(n)&&i}return i},u.a,u.b)),l._17(24576,null,0,c.a,[p.a],null,null),(e()(),l._18(null,["\n"])),(e()(),l._18(null,["\n\n"])),(e()(),l._16(0,null,null,7,"div",[["class","right-column"]],null,null,null,null,null)),(e()(),l._18(null,["\n  "])),(e()(),l._16(0,null,null,1,"palette",[],null,null,null,d.a,d.b)),l._17(24576,null,0,h.a,[],null,null),(e()(),l._18(null,["\n  "])),(e()(),l._16(0,null,null,1,"inspector",[],null,null,null,f.a,f.b)),l._17(122880,null,0,_.a,[g.a],null,null),(e()(),l._18(null,["\n"])),(e()(),l._18(null,["\n\n"])),(e()(),l._16(0,null,null,1,"preview-layer",[],null,null,null,m.a,m.b)),l._17(122880,null,0,v.a,[l.V,b.a],null,null),(e()(),l._18(null,["\n"]))],function(e,t){e(t,15,0),e(t,19,0)},null)}function r(e){return l._15(0,[(e()(),l._16(0,null,null,1,"app-root",[],null,null,null,i,A)),l._17(2121728,null,0,y.a,[p.a,l._8],null,null)],null,null)}var o=n("EVXB"),l=n("3j3K"),s=n("vaAh"),a=n("fT39"),u=n("b1Y3"),c=n("6rcD"),p=n("qnho"),d=n("W8F7"),h=n("UwP2"),f=n("aWtV"),_=n("ekBd"),g=n("MHwn"),m=n("aDjZ"),v=n("Vw8G"),b=n("cEaH"),y=n("auZa");n.d(t,"a",function(){return E});var P=[o.a],A=l._14({encapsulation:0,styles:P,data:{}}),E=l._20("app-root",y.a,r,{},{},[])},DRjt:function(e,t,n){"use strict";function i(e){return a._15(0,[(e()(),a._16(0,null,null,1,"explorer-tree",[],null,null,null,o,v)),a._17(24576,[[2,4],["tree",4]],0,u.a,[a.V,c.a],{tree:[0,"tree"]},null)],function(e,t){e(t,1,0,t.parent.context.$implicit.children)},null)}function r(e){return a._15(0,[(e()(),a._16(0,null,null,12,"li",[],[[1,"data-node-id",0]],null,null,null,null)),(e()(),a._18(null,["\n    "])),(e()(),a._16(0,[[1,0],["dropZone",1]],null,0,"div",[["class","dropZoneTop"],["data-active","false"]],[[1,"data-before",0]],null,null,null,null)),(e()(),a._18(null,["\n    "])),(e()(),a._16(0,[[1,0],["dropZone",1]],null,2,"div",[["class","title"],["data-active","false"],["data-draggable","true"],["dragPreview",""]],[[2,"selected",null],[1,"data-node-id",0]],[[null,"tap"],[null,"mousedown"],[null,"panstart"],[null,"panmove"],[null,"panend"],[null,"pancancel"]],function(e,t,n){var i=!0,r=e.component;if("mousedown"===t){i=!1!==a._19(e,5).diffuseClick(n)&&i}if("panstart"===t){i=!1!==a._19(e,5).onPanStart(n)&&i}if("panmove"===t){i=!1!==a._19(e,5).onPanMove(n)&&i}if("panend"===t){i=!1!==a._19(e,5).onPanEnd(n)&&i}if("pancancel"===t){i=!1!==a._19(e,5).onPanCancel(n)&&i}if("tap"===t){i=!1!==r.onNodeClick(e.context.$implicit.id)&&i}return i},null,null)),a._17(8192,null,0,p.a,[d.a,h.a,f.a,_.a],null,null),(e()(),a._18(null,["",""])),(e()(),a._18(null,["\n    "])),(e()(),a._22(8388608,null,null,1,null,i)),a._17(8192,null,0,g.g,[a._0,a._1],{ngIf:[0,"ngIf"]},null),(e()(),a._18(null,["\n    "])),(e()(),a._16(0,[[1,0],["dropZone",1]],null,0,"div",[["class","dropZoneBottom"],["data-active","false"]],[[1,"data-after",0]],null,null,null,null)),(e()(),a._18(null,["\n  "]))],function(e,t){e(t,9,0,t.context.$implicit.children)},function(e,t){e(t,0,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id),e(t,4,0,t.context.$implicit.selected,t.context.$implicit.id),e(t,6,0,t.context.$implicit.id),e(t,11,0,t.context.$implicit.id)})}function o(e){return a._15(0,[a._23(335544320,1,{dropZones:1}),a._23(335544320,2,{nestedTrees:1}),(e()(),a._16(0,null,null,4,"ol",[],null,null,null,null,null)),(e()(),a._18(null,["\n  "])),(e()(),a._22(8388608,null,null,1,null,r)),a._17(401408,null,0,g.f,[a._0,a._1,a.t],{ngForOf:[0,"ngForOf"]},null),(e()(),a._18(null,["\n"])),(e()(),a._18(null,["\n"]))],function(e,t){e(t,5,0,t.component.tree)},null)}function l(e){return a._15(0,[(e()(),a._16(0,null,null,1,"explorer-tree",[],null,null,null,o,v)),a._17(24576,null,0,u.a,[a.V,c.a],null,null)],null,null)}var s=n("TQnj"),a=n("3j3K"),u=n("ALXh"),c=n("MHwn"),p=n("lLaA"),d=n("cEaH"),h=n("BBhp"),f=n("Uicy"),_=n("gLDo"),g=n("2Je8");n.d(t,"b",function(){return v}),t.a=o;var m=[s.a],v=a._14({encapsulation:0,styles:m,data:{}});a._20("explorer-tree",u.a,l,{tree:"tree"},{},[])},EVXB:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=["[_nghost-%COMP%]{background:#fff;left:10px;right:10px;top:10px;bottom:10px;position:absolute;overflow:hidden}editor[_ngcontent-%COMP%]{left:200px;right:200px;border:1px solid gray}div.left-column[_ngcontent-%COMP%], editor[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;z-index:1}div.left-column[_ngcontent-%COMP%]{left:0;width:190px}div.right-column[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;right:0;width:190px;z-index:1}palette[_ngcontent-%COMP%]{border:1px solid gray;margin-bottom:10px}explorer[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;border:1px solid gray}"]},KM2C:function(e,t,n){"use strict";var i=n("3j3K"),r=n("oMyG"),o=n("2Je8"),l=n("Qbdm"),s=n("NVOs"),a=n("Rxcw"),u=n("gLDo"),c=n("BBhp"),p=n("cEaH"),d=n("Uicy"),h=n("qnho"),f=n("MHwn"),_=n("D9De");n.d(t,"a",function(){return v});var g=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),m=function(e){function t(t){return e.call(this,t,[_.a],[_.a])||this}return g(t,e),Object.defineProperty(t.prototype,"_LOCALE_ID_12",{get:function(){return null==this.__LOCALE_ID_12&&(this.__LOCALE_ID_12=i.b(this.parent.get(i.c,null))),this.__LOCALE_ID_12},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_NgLocalization_13",{get:function(){return null==this.__NgLocalization_13&&(this.__NgLocalization_13=new o.a(this._LOCALE_ID_12)),this.__NgLocalization_13},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_Compiler_14",{get:function(){return null==this.__Compiler_14&&(this.__Compiler_14=new i.d),this.__Compiler_14},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_APP_ID_15",{get:function(){return null==this.__APP_ID_15&&(this.__APP_ID_15=i.e()),this.__APP_ID_15},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_IterableDiffers_16",{get:function(){return null==this.__IterableDiffers_16&&(this.__IterableDiffers_16=i.f()),this.__IterableDiffers_16},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_KeyValueDiffers_17",{get:function(){return null==this.__KeyValueDiffers_17&&(this.__KeyValueDiffers_17=i.g()),this.__KeyValueDiffers_17},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_DomSanitizer_18",{get:function(){return null==this.__DomSanitizer_18&&(this.__DomSanitizer_18=new l.b(this.parent.get(l.c))),this.__DomSanitizer_18},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_Sanitizer_19",{get:function(){return null==this.__Sanitizer_19&&(this.__Sanitizer_19=this._DomSanitizer_18),this.__Sanitizer_19},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_HAMMER_GESTURE_CONFIG_20",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_20&&(this.__HAMMER_GESTURE_CONFIG_20=new a.a),this.__HAMMER_GESTURE_CONFIG_20},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_EVENT_MANAGER_PLUGINS_21",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_21&&(this.__EVENT_MANAGER_PLUGINS_21=[new l.d(this.parent.get(l.c)),new l.e(this.parent.get(l.c)),new l.f(this.parent.get(l.c),this._HAMMER_GESTURE_CONFIG_20)]),this.__EVENT_MANAGER_PLUGINS_21},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_EventManager_22",{get:function(){return null==this.__EventManager_22&&(this.__EventManager_22=new l.g(this._EVENT_MANAGER_PLUGINS_21,this.parent.get(i.h))),this.__EventManager_22},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ɵDomSharedStylesHost_23",{get:function(){return null==this.__ɵDomSharedStylesHost_23&&(this.__ɵDomSharedStylesHost_23=new l.h(this.parent.get(l.c))),this.__ɵDomSharedStylesHost_23},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ɵDomRendererFactory2_24",{get:function(){return null==this.__ɵDomRendererFactory2_24&&(this.__ɵDomRendererFactory2_24=new l.i(this._EventManager_22,this._ɵDomSharedStylesHost_23)),this.__ɵDomRendererFactory2_24},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_RendererFactory2_25",{get:function(){return null==this.__RendererFactory2_25&&(this.__RendererFactory2_25=this._ɵDomRendererFactory2_24),this.__RendererFactory2_25},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ɵSharedStylesHost_26",{get:function(){return null==this.__ɵSharedStylesHost_26&&(this.__ɵSharedStylesHost_26=this._ɵDomSharedStylesHost_23),this.__ɵSharedStylesHost_26},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_Testability_27",{get:function(){return null==this.__Testability_27&&(this.__Testability_27=new i.i(this.parent.get(i.h))),this.__Testability_27},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_Meta_28",{get:function(){return null==this.__Meta_28&&(this.__Meta_28=new l.j(this.parent.get(l.c))),this.__Meta_28},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_Title_29",{get:function(){return null==this.__Title_29&&(this.__Title_29=new l.k(this.parent.get(l.c))),this.__Title_29},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ɵi_30",{get:function(){return null==this.__ɵi_30&&(this.__ɵi_30=new s.a),this.__ɵi_30},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_DragService_31",{get:function(){return null==this.__DragService_31&&(this.__DragService_31=new u.a),this.__DragService_31},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_DropZoneService_32",{get:function(){return null==this.__DropZoneService_32&&(this.__DropZoneService_32=new c.a),this.__DropZoneService_32},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_PreviewCanvasService_33",{get:function(){return null==this.__PreviewCanvasService_33&&(this.__PreviewCanvasService_33=new p.a),this.__PreviewCanvasService_33},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_DraggableItemService_34",{get:function(){return null==this.__DraggableItemService_34&&(this.__DraggableItemService_34=new d.a),this.__DraggableItemService_34},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ElementRepositoryService_35",{get:function(){return null==this.__ElementRepositoryService_35&&(this.__ElementRepositoryService_35=new h.a),this.__ElementRepositoryService_35},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ElementSelectionService_36",{get:function(){return null==this.__ElementSelectionService_36&&(this.__ElementSelectionService_36=new f.a(this._ElementRepositoryService_35)),this.__ElementSelectionService_36},enumerable:!0,configurable:!0}),t.prototype.createInternal=function(){return this._CommonModule_0=new o.b,this._ErrorHandler_1=l.l(),this._APP_INITIALIZER_2=[i.j,l.m(this.parent.get(l.n,null),this.parent.get(i.k,null))],this._ApplicationInitStatus_3=new i.l(this._APP_INITIALIZER_2),this._ɵf_4=new i.m(this.parent.get(i.h),this.parent.get(i.n),this,this._ErrorHandler_1,this.componentFactoryResolver,this._ApplicationInitStatus_3),this._ApplicationRef_5=this._ɵf_4,this._ApplicationModule_6=new i.o(this._ApplicationRef_5),this._BrowserModule_7=new l.o(this.parent.get(l.o,null)),this._ɵba_8=new s.b,this._FormsModule_9=new s.c,this._DragModule_10=new a.b,this._AppModule_11=new r.a,this._AppModule_11},t.prototype.getInternal=function(e,t){return e===o.b?this._CommonModule_0:e===i.p?this._ErrorHandler_1:e===i.q?this._APP_INITIALIZER_2:e===i.l?this._ApplicationInitStatus_3:e===i.m?this._ɵf_4:e===i.r?this._ApplicationRef_5:e===i.o?this._ApplicationModule_6:e===l.o?this._BrowserModule_7:e===s.b?this._ɵba_8:e===s.c?this._FormsModule_9:e===a.b?this._DragModule_10:e===r.a?this._AppModule_11:e===i.c?this._LOCALE_ID_12:e===o.c?this._NgLocalization_13:e===i.d?this._Compiler_14:e===i.s?this._APP_ID_15:e===i.t?this._IterableDiffers_16:e===i.u?this._KeyValueDiffers_17:e===l.p?this._DomSanitizer_18:e===i.v?this._Sanitizer_19:e===l.q?this._HAMMER_GESTURE_CONFIG_20:e===l.r?this._EVENT_MANAGER_PLUGINS_21:e===l.g?this._EventManager_22:e===l.h?this._ɵDomSharedStylesHost_23:e===l.i?this._ɵDomRendererFactory2_24:e===i.w?this._RendererFactory2_25:e===l.s?this._ɵSharedStylesHost_26:e===i.i?this._Testability_27:e===l.j?this._Meta_28:e===l.k?this._Title_29:e===s.a?this._ɵi_30:e===u.a?this._DragService_31:e===c.a?this._DropZoneService_32:e===p.a?this._PreviewCanvasService_33:e===d.a?this._DraggableItemService_34:e===h.a?this._ElementRepositoryService_35:e===f.a?this._ElementSelectionService_36:t},t.prototype.destroyInternal=function(){this._ɵf_4.ngOnDestroy(),this.__ɵDomSharedStylesHost_23&&this._ɵDomSharedStylesHost_23.ngOnDestroy()},t}(i.x),v=new i.y(m,r.a)},MHwn:function(e,t,n){"use strict";var i=n("qnho"),r=n("Gvdl");n.n(r);n.d(t,"a",function(){return o});var o=function(){function e(e){this.elementRepositoryService=e,this.selectedElement=null,this.subject=new r.Subject}return e.prototype.clearSelection=function(){this.selectedElement&&(this.selectedElement.selected=!1),this.selectedElement=null,this.subject.next(null)},e.prototype.select=function(e){var t=this.elementRepositoryService.getEditorElement(e);t?this.selectedElement!==t&&(this.selectedElement&&(this.selectedElement.selected=!1),this.selectedElement=t,this.selectedElement.selected=!0,this.subject.next(this.selectedElement)):this.clearSelection()},e.prototype.subscribeToChanges=function(e){return this.subject.subscribe(e)},e.ctorParameters=function(){return[{type:i.a}]},e}()},NonS:function(e,t,n){"use strict";function i(e){return l._15(0,[l._23(201326592,1,{background:0}),l._23(201326592,2,{resizeN:0}),l._23(201326592,3,{resizeS:0}),l._23(201326592,4,{resizeW:0}),l._23(201326592,5,{resizeE:0}),l._23(201326592,6,{resizeNW:0}),l._23(201326592,7,{resizeNE:0}),l._23(201326592,8,{resizeSW:0}),l._23(201326592,9,{resizeSE:0}),(e()(),l._16(0,null,null,19,"div",[["class","box"]],[[4,"left","px"],[4,"top","px"],[4,"width","px"],[4,"height","px"]],null,null,null,null)),(e()(),l._18(null,["\n\n  "])),(e()(),l._16(0,[[1,0],["background",1]],null,0,"div",[["class","background"]],[[1,"data-usable",0]],null,null,null,null)),(e()(),l._18(null,["\n  "])),(e()(),l._16(0,[[4,0],["resizeW",1]],null,0,"div",[["class","border W"]],[[1,"data-usable",0]],null,null,null,null)),(e()(),l._18(null,["\n  "])),(e()(),l._16(0,[[5,0],["resizeE",1]],null,0,"div",[["class","border E"]],[[1,"data-usable",0]],null,null,null,null)),(e()(),l._18(null,["\n  "])),(e()(),l._16(0,[[2,0],["resizeN",1]],null,0,"div",[["class","border N"]],[[1,"data-usable",0]],null,null,null,null)),(e()(),l._18(null,["\n  "])),(e()(),l._16(0,[[3,0],["resizeS",1]],null,0,"div",[["class","border S"]],[[1,"data-usable",0]],null,null,null,null)),(e()(),l._18(null,["\n  "])),(e()(),l._16(0,[[6,0],["resizeNW",1]],null,0,"div",[["class","corner NW"]],[[1,"data-usable",0]],null,null,null,null)),(e()(),l._18(null,["\n  "])),(e()(),l._16(0,[[7,0],["resizeNE",1]],null,0,"div",[["class","corner NE"]],[[1,"data-usable",0]],null,null,null,null)),(e()(),l._18(null,["\n  "])),(e()(),l._16(0,[[8,0],["resizeSW",1]],null,0,"div",[["class","corner SW"]],[[1,"data-usable",0]],null,null,null,null)),(e()(),l._18(null,["\n  "])),(e()(),l._16(0,[[9,0],["resizeSE",1]],null,0,"div",[["class","corner SE"]],[[1,"data-usable",0]],null,null,null,null)),(e()(),l._18(null,["\n\n"])),(e()(),l._18(null,["\n"]))],null,function(e,t){var n=t.component;e(t,9,0,n.selectionTarget.sizer.left,n.selectionTarget.sizer.top,n.selectionTarget.sizer.width,n.selectionTarget.sizer.height),e(t,11,0,n.selectionTarget.isMovable()),e(t,13,0,n.selectionTarget.isMovable()&&n.selectionTarget.isResizable()),e(t,15,0,n.selectionTarget.isResizable()),e(t,17,0,n.selectionTarget.isMovable()&&n.selectionTarget.isResizable()),e(t,19,0,n.selectionTarget.isResizable()),e(t,21,0,n.selectionTarget.isMovable()&&n.selectionTarget.isResizable()),e(t,23,0,n.selectionTarget.isMovable()&&n.selectionTarget.isResizable()),e(t,25,0,n.selectionTarget.isMovable()&&n.selectionTarget.isResizable()),e(t,27,0,n.selectionTarget.isResizable())})}function r(e){return l._15(0,[(e()(),l._16(0,null,null,1,"editor-selection",[],null,null,null,i,p)),l._17(2121728,null,0,s.a,[a.a,u.a],null,null)],null,null)}var o=n("jkXA"),l=n("3j3K"),s=n("4Lvp"),a=n("gLDo"),u=n("Uicy");n.d(t,"b",function(){return p}),t.a=i;var c=[o.a],p=l._14({encapsulation:0,styles:c,data:{}});l._20("editor-selection",s.a,r,{target:"target"},{},[])},Odkb:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=["[_nghost-%COMP%]{display:block}"]},Pw0H:function(e,t,n){"use strict";var i=n("MHwn");n.d(t,"a",function(){return r});var r=function(){function e(e){this.elementSelectionService=e,this.selectedElement=null,this.subscription=null}return e.prototype.ngOnInit=function(){var e=this;this.subscription=this.elementSelectionService.subscribeToChanges({next:function(t){return e.selectedElement=t}})},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.ctorParameters=function(){return[{type:i.a}]},e}()},Rxcw:function(e,t,n){"use strict";var i=n("Qbdm");n.d(t,"a",function(){return o}),n.d(t,"b",function(){return l});var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overrides={pan:{direction:Hammer.DIRECTION_ALL}},t}return r(t,e),t}(i.t),l=function(){function e(){}return e}()},TQnj:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=["[_nghost-%COMP%]{display:block}ol[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAA4SURBVDhPY/wPBAxEAEZGRgZilDJBaYKASHuJNxDkQmLAqAtxg1EX4gSjLsQNRl2IE4w4FzIwAAAihCUhrkvhCwAAAABJRU5ErkJggg==) repeat-y;list-style:none;padding:0}li[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{position:relative}li[_ngcontent-%COMP%]{padding-left:24px;padding-top:2px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABFSURBVDhP7ZExDgAwCAKh//9zq0kdSdm6cIsL6hm5CxiQhBNdtz4x9/oD29AhhpoYSmKoGcMZLGsFrVu6wYnmy5pPhsAB4kgsJVhHFbwAAAAASUVORK5CYII=) no-repeat}li[_ngcontent-%COMP%]:last-child{background:#fff url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABNSURBVDhP7dSxDgAQDEXR1o+3f04JG3ETm/QsNdC+LrQGAVRVyNUy6xWcyxv2hEQmPMuERx8ldPd5uojJmJmNup7tKv5tKLwylQ1fiTRtM2DW0KD4LgAAAABJRU5ErkJggg==) no-repeat}li[_ngcontent-%COMP%] > div.title[_ngcontent-%COMP%]{height:20px;line-height:20px;margin:0;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;max-width:100%;cursor:pointer;border:1px solid transparent}li[_ngcontent-%COMP%] > div.selected[_ngcontent-%COMP%]{background-color:#f0f8ff}li[_ngcontent-%COMP%] > div.title[data-active=true][_ngcontent-%COMP%]{outline:2px solid #d3d3d3}div.dropZoneBottom[_ngcontent-%COMP%], div.dropZoneTop[_ngcontent-%COMP%]{position:absolute;left:24px;width:40px;height:20%;pointer-events:none}div.dropZoneTop[_ngcontent-%COMP%]{border-top:4px solid transparent;top:-3px}div.dropZoneBottom[_ngcontent-%COMP%]{border-bottom:4px solid transparent;bottom:-1px}div.dropZoneBottom[data-active=true][_ngcontent-%COMP%], div.dropZoneTop[data-active=true][_ngcontent-%COMP%]{border-color:#d3d3d3}"]},Uicy:function(e,t,n){"use strict";var i=n("yLWm"),r=n("qnho");n.d(t,"a",function(){return l});var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l=function(){function e(){}return e.prototype.createDraggableItemFromTemplate=function(e){var t=i.b.fromTemplate(e);return new s(t,null)},e.prototype.getDraggableItem=function(e){var t=this.findTargetParent(e),n=null===t?null:new s(t,null);return new s(e,n)},e.prototype.findTargetParent=function(e){if(r.b.getIsChildOf(e))for(var t=e.parentElement;null!==t;){if(r.b.getIsParentFor(t)===r.b.getIsChildOf(e))return t;t=t.parentElement}return null},e}(),s=function(){function e(e,t){this.dom=e,this.parent=t,this.chmod=i.c.of(e),this.transformer=i.a.of(e),this.sizer=new p(e)}return e.prototype.getRootlessCopy=function(){return new e(this.getDom().cloneNode(!0),null)},e.prototype.getDom=function(){return this.dom},e.prototype.getParent=function(){return this.parent},e.prototype.getChmod=function(){return this.chmod},e.prototype.getTransformer=function(){return this.transformer},e.prototype.getData=function(e){return this.dom.dataset[e]},e.prototype.enableDrag=function(){this.dom.dataset[e.ATTR_NAME_DRAGGABLE]="true"},e.prototype.isDragEnabled=function(){return"true"===this.dom.dataset[e.ATTR_NAME_DRAGGABLE]},e.prototype.show=function(){this.dom.style.visibility=null},e.prototype.hide=function(){this.dom.style.visibility="hidden"},e.prototype.isVisible=function(){return!this.dom.style.visibility},e.prototype.isMovable=function(){return"static"!==this.transformer.positionType},e.prototype.isResizable=function(){return"block"===getComputedStyle(this.dom).display},e.prototype.makeChildOf=function(e){e.getDom().appendChild(this.dom)},e.prototype.remove=function(){this.dom.remove()},e.prototype.moveToPosition=function(e,t){if(null===t)return this.sizer.left=e.x,this.sizer.top=e.y,null;if(this.sizer.left+=e.x-t.x,this.sizer.top+=e.y-t.y,!this.parent)return e;var n=Math.min(Math.max(0,this.sizer.left),this.parent.getChmod().innerWidth-this.sizer.width),i=Math.min(Math.max(0,this.sizer.top),this.parent.getChmod().innerHeight-this.sizer.height),r={x:e.x+n-this.sizer.left,y:e.y+i-this.sizer.top};return this.sizer.left=n,this.sizer.top=i,r},e.prototype.moveWallTo=function(e,t,n){if(!this.parent)return console.warn("Parent undefined"),e;var i=e.x-t.x,r=e.y-t.y;switch(n){case"Resize_W":case"Resize_NW":case"Resize_SW":i=Math.max(0,this.sizer.left+i)-this.sizer.left+Math.min(0,this.sizer.width-i);break;case"Resize_E":case"Resize_NE":case"Resize_SE":i=Math.round(Math.min(this.parent.getChmod().clientRect.width,this.sizer.left+this.sizer.width+i)-(this.sizer.left+this.sizer.width))-Math.min(0,this.sizer.width+i)}switch(n){case"Resize_N":case"Resize_NW":case"Resize_NE":r=Math.max(0,this.sizer.top+r)-this.sizer.top+Math.min(0,this.sizer.height-r);break;case"Resize_S":case"Resize_SW":case"Resize_SE":r=Math.round(Math.min(this.parent.getChmod().clientRect.height,this.sizer.top+this.sizer.height+r)-(this.sizer.top+this.sizer.height))-Math.min(0,this.sizer.height+r)}switch(n){case"Resize_N":case"Resize_NW":case"Resize_NE":this.sizer.top+=r,this.sizer.height-=r;break;case"Resize_S":case"Resize_SW":case"Resize_SE":this.sizer.height+=r}switch(n){case"Resize_W":case"Resize_NW":case"Resize_SW":this.sizer.left+=i,this.sizer.width-=i;break;case"Resize_E":case"Resize_NE":case"Resize_SE":this.sizer.width+=i}return{x:t.x+i,y:t.y+r}},e}();s.ATTR_NAME_DRAGGABLE="draggable";var a=function(){function e(){}return Object.defineProperty(e.prototype,"width",{get:function(){return e.getPx(this.style.width)},set:function(t){this.style.width=e.setPx(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return e.getPx(this.style.height)},set:function(t){this.style.height=e.setPx(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return e.getPx(this.style.left)},set:function(t){this.style.left=e.setPx(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return e.getPx(this.style.right)},set:function(t){this.style.right=e.setPx(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return e.getPx(this.style.top)},set:function(t){this.style.top=e.setPx(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return e.getPx(this.style.bottom)},set:function(t){this.style.bottom=e.setPx(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginLeft",{get:function(){return e.getPx(this.style.marginLeft)},set:function(t){this.style.marginLeft=e.setPx(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginRight",{get:function(){return e.getPx(this.style.marginRight)},set:function(t){this.style.marginRight=e.setPx(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginTop",{get:function(){return e.getPx(this.style.marginTop)},set:function(t){this.style.marginTop=e.setPx(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginBottom",{get:function(){return e.getPx(this.style.marginBottom)},set:function(t){this.style.marginBottom=e.setPx(t)},enumerable:!0,configurable:!0}),e.getPx=function(e){return null==e?null:Number(e.slice(0,-2))},e.setPx=function(e){return null==e?null:e+"px"},e}(),u=function(e){function t(t){var n=e.call(this)||this;return n.dom=t,n}return o(t,e),Object.defineProperty(t.prototype,"style",{get:function(){return this.dom.style},enumerable:!0,configurable:!0}),t}(a),c=function(e){function t(t){var n=e.call(this)||this;return n.dom=t,n}return o(t,e),Object.defineProperty(t.prototype,"style",{get:function(){return window.getComputedStyle(this.dom)},enumerable:!0,configurable:!0}),t}(a),p=function(){function e(e){this.dom=e,this.css=new u(e),this.computedCss=new c(e)}return Object.defineProperty(e.prototype,"left",{get:function(){return this.dom.offsetLeft},set:function(e){null==e?(this.css.left=null,this.css.marginLeft=null):(this.right=null,"static"===this.computedCss.style.position?this.css.marginLeft=e+this.css.marginLeft-this.left:this.css.left=e+this.css.left-this.left)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.computedCss.right+this.computedCss.marginRight},set:function(e){null==e?(this.css.right=null,this.css.marginRight=null):(this.left=null,"static"===this.computedCss.style.position?this.css.marginRight=e+this.css.marginRight-this.right:this.css.right=e+this.css.right-this.right)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.dom.offsetTop},set:function(e){null==e?(this.css.top=null,this.css.marginTop=null):(this.bottom=null,"static"===this.computedCss.style.position?this.css.marginTop=e+this.css.marginTop-this.top:this.css.top=e+this.css.top-this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.computedCss.bottom+this.computedCss.marginBottom},set:function(e){null==e?(this.css.bottom=null,this.css.marginBottom=null):(this.top=null,"static"===this.computedCss.style.position?this.css.marginBottom=e+this.css.marginBottom-this.bottom:this.css.bottom=e+this.css.bottom-this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.dom.offsetWidth},set:function(e){this.css.width=e+this.css.width-this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.dom.offsetHeight},set:function(e){this.css.height=e+this.css.height-this.height},enumerable:!0,configurable:!0}),e}()},UwP2:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){this.items=[{name:"Stub element",template:e.DEFAULT_DIV_TEMPLATE}]}return e}();i.DEFAULT_DIV_TEMPLATE='<div style="width: 100px; height: 100px; background: red;">A</div>'},Vw8G:function(e,t,n){"use strict";var i=n("3j3K"),r=n("cEaH");n.d(t,"a",function(){return o});var o=function(){function e(e,t){this.elementRef=e,this.previewCanvasService=t}return e.prototype.ngOnInit=function(){this.previewCanvasService.registerCanvas(this.elementRef)},e.prototype.ngOnDestroy=function(){this.previewCanvasService.clearCanvas()},e.ctorParameters=function(){return[{type:i.V},{type:r.a}]},e}()},W8F7:function(e,t,n){"use strict";function i(e){return s._15(0,[(e()(),s._16(0,null,null,5,"li",[["class","cursor_grab"]],null,null,null,null,null)),(e()(),s._18(null,["\n        "])),(e()(),s._16(0,null,null,2,"div",[["data-drag-label","palette"],["data-draggable","true"],["dragPreview",""]],[[1,"data-drag-preview-template",0]],[[null,"mousedown"],[null,"panstart"],[null,"panmove"],[null,"panend"],[null,"pancancel"]],function(e,t,n){var i=!0;if("mousedown"===t){i=!1!==s._19(e,3).diffuseClick(n)&&i}if("panstart"===t){i=!1!==s._19(e,3).onPanStart(n)&&i}if("panmove"===t){i=!1!==s._19(e,3).onPanMove(n)&&i}if("panend"===t){i=!1!==s._19(e,3).onPanEnd(n)&&i}if("pancancel"===t){i=!1!==s._19(e,3).onPanCancel(n)&&i}return i},null,null)),s._17(8192,null,0,a.a,[u.a,c.a,p.a,d.a],null,null),(e()(),s._18(null,["\n          ","\n        "])),(e()(),s._18(null,["\n    "]))],null,function(e,t){e(t,2,0,t.context.$implicit.template),e(t,4,0,t.context.$implicit.name)})}function r(e){return s._15(0,[(e()(),s._16(0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),s._18(null,["\n    "])),(e()(),s._22(8388608,null,null,1,null,i)),s._17(401408,null,0,h.f,[s._0,s._1,s.t],{ngForOf:[0,"ngForOf"]},null),(e()(),s._18(null,["\n"])),(e()(),s._18(null,["\n"]))],function(e,t){e(t,3,0,t.component.items)},null)}function o(e){return s._15(0,[(e()(),s._16(0,null,null,1,"palette",[],null,null,null,r,g)),s._17(24576,null,0,f.a,[],null,null)],null,null)}var l=n("Odkb"),s=n("3j3K"),a=n("lLaA"),u=n("cEaH"),c=n("BBhp"),p=n("Uicy"),d=n("gLDo"),h=n("2Je8"),f=n("UwP2");n.d(t,"b",function(){return g}),t.a=r;var _=[l.a],g=s._14({encapsulation:0,styles:_,data:{}});s._20("palette",f.a,o,{},{},[])},WBuq:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=["[_nghost-%COMP%]{display:block}explorer-tree[_ngcontent-%COMP%]{padding-right:10px}"]},XrFs:function(e,t,n){"use strict";var i=n("pHNC");n.d(t,"a",function(){return r});var r=function(){function e(){}return e.isInsideElement=function(t,n){var r=i.a.getElement(t).getBoundingClientRect();return e.isInsideClientRect(r,n)},e.toElementPosition=function(e,t){var n=i.a.getElement(e).getBoundingClientRect();return{x:t.x-n.left,y:t.y-n.top}},e.toParentElementPosition=function(e,t){var n=i.a.getParentElement(e).getBoundingClientRect();return{x:t.x-n.left,y:t.y-n.top}},e.isInsideParentElement=function(t,n){var r=i.a.getParentElement(t).getBoundingClientRect();return e.isInsideClientRect(r,n)},e.isInsideClientRect=function(e,t){return t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom},e}()},aDjZ:function(e,t,n){"use strict";function i(e){return l._15(0,[],null,null)}function r(e){return l._15(0,[(e()(),l._16(0,null,null,1,"preview-layer",[],null,null,null,i,c)),l._17(122880,null,0,s.a,[l.V,a.a],null,null)],function(e,t){e(t,1,0)},null)}var o=n("c+tg"),l=n("3j3K"),s=n("Vw8G"),a=n("cEaH");n.d(t,"b",function(){return c}),t.a=i;var u=[o.a],c=l._14({encapsulation:0,styles:u,data:{}});l._20("preview-layer",s.a,r,{},{},[])},aWtV:function(e,t,n){"use strict";function i(e){return a._15(0,[(e()(),a._16(0,null,null,3,"option",[],null,null,null,null,null)),a._17(73728,null,0,u.d,[a.V,a.W,[2,u.e]],{ngValue:[0,"ngValue"]},null),a._17(73728,null,0,u.f,[a.V,a.W,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),a._18(null,["",""]))],function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id)},function(e,t){e(t,3,0,t.context.$implicit.name)})}function r(e){return a._15(0,[(e()(),a._16(0,null,null,11,"div",[],null,null,null,null,null)),(e()(),a._18(null,["\n  "])),(e()(),a._16(0,null,null,1,"label",[["for","inspector-left"]],null,null,null,null,null)),(e()(),a._18(null,["",""])),(e()(),a._18(null,["\n  "])),(e()(),a._16(0,null,null,5,"input",[["id","inspector-left"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,r=e.component;if("input"===t){i=!1!==a._19(e,6)._handleInput(n.target.value)&&i}if("blur"===t){i=!1!==a._19(e,6).onTouched()&&i}if("compositionstart"===t){i=!1!==a._19(e,6)._compositionStart()&&i}if("compositionend"===t){i=!1!==a._19(e,6)._compositionEnd(n.target.value)&&i}if("ngModelChange"===t){i=!1!==((null==r.selectedElement?null:r.selectedElement.proxy)[e.context.$implicit.id]=n)&&i}return i},null,null)),a._17(8192,null,0,u.g,[a.W,a.V,[2,u.h]],null,null),a._21(512,null,u.i,function(e){return[e]},[u.g]),a._17(335872,null,0,u.j,[[8,null],[8,null],[8,null],[2,u.i]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),a._21(1024,null,u.k,null,[u.j]),a._17(8192,null,0,u.l,[u.k],null,null),(e()(),a._18(null,["\n"]))],function(e,t){var n=t.component;e(t,8,0,!n.selectedElement,null==n.selectedElement?null:n.selectedElement.proxy[t.context.$implicit.id])},function(e,t){e(t,3,0,t.context.$implicit.name),e(t,5,0,a._19(t,10).ngClassUntouched,a._19(t,10).ngClassTouched,a._19(t,10).ngClassPristine,a._19(t,10).ngClassDirty,a._19(t,10).ngClassValid,a._19(t,10).ngClassInvalid,a._19(t,10).ngClassPending)})}function o(e){return a._15(0,[(e()(),a._16(0,null,null,15,"div",[],null,null,null,null,null)),(e()(),a._18(null,["\n  "])),(e()(),a._16(0,null,null,1,"label",[["for","inspector-position"]],null,null,null,null,null)),(e()(),a._18(null,["Position type"])),(e()(),a._18(null,["\n  "])),(e()(),a._16(0,null,null,9,"select",[["id","inspector-position"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,t,n){var i=!0,r=e.component;if("change"===t){i=!1!==a._19(e,6).onChange(n.target.value)&&i}if("blur"===t){i=!1!==a._19(e,6).onTouched()&&i}if("ngModelChange"===t){i=!1!==((null==r.selectedElement?null:r.selectedElement.proxy).positionType=n)&&i}return i},null,null)),a._17(8192,null,0,u.e,[a.W,a.V],null,null),a._21(512,null,u.i,function(e){return[e]},[u.e]),a._17(335872,null,0,u.j,[[8,null],[8,null],[8,null],[2,u.i]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),a._21(1024,null,u.k,null,[u.j]),a._17(8192,null,0,u.l,[u.k],null,null),(e()(),a._18(null,["\n    "])),(e()(),a._22(8388608,null,null,1,null,i)),a._17(401408,null,0,p.f,[a._0,a._1,a.t],{ngForOf:[0,"ngForOf"]},null),(e()(),a._18(null,["\n  "])),(e()(),a._18(null,["\n"])),(e()(),a._18(null,["\n\n"])),(e()(),a._22(8388608,null,null,1,null,r)),a._17(401408,null,0,p.f,[a._0,a._1,a.t],{ngForOf:[0,"ngForOf"]},null),(e()(),a._18(null,["\n"]))],function(e,t){var n=t.component;e(t,8,0,!n.selectedElement,null==n.selectedElement?null:n.selectedElement.proxy.positionType),e(t,13,0,n.enabledPositionTypes),e(t,18,0,n.enabledProperties)},function(e,t){e(t,5,0,a._19(t,10).ngClassUntouched,a._19(t,10).ngClassTouched,a._19(t,10).ngClassPristine,a._19(t,10).ngClassDirty,a._19(t,10).ngClassValid,a._19(t,10).ngClassInvalid,a._19(t,10).ngClassPending)})}function l(e){return a._15(0,[(e()(),a._16(0,null,null,1,"inspector",[],null,null,null,o,f)),a._17(122880,null,0,c.a,[d.a],null,null)],function(e,t){e(t,1,0)},null)}var s=n("dFrC"),a=n("3j3K"),u=n("NVOs"),c=n("ekBd"),p=n("2Je8"),d=n("MHwn");n.d(t,"b",function(){return f}),t.a=o;var h=[s.a],f=a._14({encapsulation:0,styles:h,data:{}});a._20("inspector",c.a,l,{},{},[])},auZa:function(e,t,n){"use strict";var i=n("3j3K"),r=n("qnho"),o=n("UwP2"),l=n("kZql");n.d(t,"a",function(){return s});var s=function(){function e(e,t){this.elementRepositoryService=e,this.changeDetectionRef=t}return e.prototype.ngAfterViewInit=function(){if(!l.a.production){for(var e=1;e<3;e++)this.elementRepositoryService.addEditorElement(o.a.DEFAULT_DIV_TEMPLATE,120*e,120*e);this.changeDetectionRef.detectChanges()}},e.ctorParameters=function(){return[{type:r.a},{type:i._8}]},e}()},b1Y3:function(e,t,n){"use strict";function i(e){return l._15(0,[l._23(201326592,1,{tree:0}),(e()(),l._16(0,null,null,1,"explorer-tree",[],null,null,null,s.a,s.b)),l._17(24576,[[1,4],["tree",4]],0,a.a,[l.V,u.a],{tree:[0,"tree"]},null),(e()(),l._18(null,["\n"]))],function(e,t){e(t,2,0,t.component.elementRepositoryService.elements)},null)}function r(e){return l._15(0,[(e()(),l._16(0,null,null,1,"explorer",[],null,[[null,"panmove"],[null,"panend"],[null,"pancancel"]],function(e,t,n){var i=!0;if("panmove"===t){i=!1!==l._19(e,1).onPanMove(n)&&i}if("panend"===t){i=!1!==l._19(e,1).onPanEnd(n)&&i}if("pancancel"===t){i=!1!==l._19(e,1).onPanCancel(n)&&i}return i},i,h)),l._17(24576,null,0,c.a,[p.a],null,null)],null,null)}var o=n("WBuq"),l=n("3j3K"),s=n("DRjt"),a=n("ALXh"),u=n("MHwn"),c=n("6rcD"),p=n("qnho");n.d(t,"b",function(){return h}),t.a=i;var d=[o.a],h=l._14({encapsulation:0,styles:d,data:{}});l._20("explorer",c.a,r,{},{},[])},"c+tg":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=["[_nghost-%COMP%]{position:relative;z-index:9999}[_nghost-%COMP%]    >*{opacity:.25;position:absolute;z-index:9999;margin-left:-10px;margin-top:-10px;cursor:move;cursor:-webkit-grabbing;cursor:grabbing}"]},cEaH:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){this.canvas=null}return e.prototype.registerCanvas=function(e){this.canvas=e},e.prototype.getCanvas=function(){return this.canvas},e.prototype.clearCanvas=function(){this.canvas=null},e}()},dFrC:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=["[_nghost-%COMP%]{display:block;padding:5px 5px 0}label[_ngcontent-%COMP%]{display:inline-block}input[_ngcontent-%COMP%], label[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{background:#d3d3d3;border:0;display:block;padding:5px;box-sizing:border-box}textarea[_ngcontent-%COMP%]{min-height:150px}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{background:#a9a9a9}"]},ekBd:function(e,t,n){"use strict";var i=n("yLWm"),r=n("MHwn");n.d(t,"a",function(){return o});var o=function(){function e(e){this.elementSelectionService=e,this.selectedElement=null,this.enabledPositionTypes=[{id:"absolute",name:"Absolute"},{id:"static",name:"Static"}],this.enabledProperties=[{id:"positionX",name:"Position left"},{id:"positionY",name:"Position top"},{id:"totalWidth",name:"Total width"},{id:"totalHeight",name:"Total height"}],this.subscription=null}return e.prototype.ngOnInit=function(){var e=this;this.subscription=this.elementSelectionService.subscribeToChanges({next:function(t){return e.selectedElement=t?i.a.of(t.htmlDom):null}})},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.ctorParameters=function(){return[{type:r.a}]},e}()},fT39:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e}()},fkE3:function(e,t,n){"use strict";function i(e){return o._15(0,[o._23(201326592,1,{canvasElementRef:0}),(e()(),o._16(0,[[1,0],["canvas",1]],null,1,"canvas",[["copyParentSize",""]],null,[["window","resize"]],function(e,t,n){var i=!0;if("window:resize"===t){i=!1!==o._19(e,2).onResize(n)&&i}return i},null,null)),o._17(2105344,null,0,l.a,[o.V],null,null)],null,null)}function r(e){return o._15(0,[(e()(),o._16(0,null,null,1,"editor-background-layer",[],null,[["window","resize"]],function(e,t,n){var i=!0;if("window:resize"===t){i=!1!==o._19(e,1).onResize(n)&&i}return i},i,u)),o._17(2121728,null,0,s.a,[],null,null)],null,null)}var o=n("3j3K"),l=n("yhao"),s=n("oufc");n.d(t,"b",function(){return u}),t.a=i;var a=["canvas[_ngcontent-%COMP%] { width: 100%; height: 100%; }"],u=o._14({encapsulation:0,styles:a,data:{}});o._20("editor-background-layer",s.a,r,{spacing:"spacing"},{},[])},gLDo:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){this.firstXY=null,this.lastXY=null,this.draggableItem=null,this.resizeType=null}return e.prototype.diffuseClick=function(e){0===e.button&&e.preventDefault()},e.prototype.onTap=function(e,t){},e.prototype.onPanStart=function(e,t,n){this.firstXY=t,this.lastXY=t,this.draggableItem=e,this.resizeType=n},e.prototype.onPanMove=function(e){this.lastXY=this.moveTo(e)},e.prototype.onPanEnd=function(e){this.moveTo(e),this.firstXY=null,this.lastXY=null,this.draggableItem=null},e.prototype.onPanCancel=function(e){this.moveTo(this.firstXY),this.firstXY=null,this.lastXY=null,this.draggableItem=null},e.prototype.moveTo=function(e){return this.resizeType?this.draggableItem.moveWallTo(e,this.lastXY,this.resizeType):this.draggableItem.moveToPosition(e,this.lastXY)},e}()},jkXA:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=["div.box[_ngcontent-%COMP%]{pointer-events:none;position:absolute;outline:2px dashed #000;box-shadow:0 0 0 2px #fff}div.background[_ngcontent-%COMP%], div.border[_ngcontent-%COMP%], div.corner[_ngcontent-%COMP%]{pointer-events:auto;position:absolute}div.background[_ngcontent-%COMP%]{left:0;top:0;right:0;bottom:0;background:-webkit-repeating-linear-gradient(45deg,rgba(0,0,0,.1),rgba(0,0,0,.1) 10px,hsla(0,0%,100%,.1) 0,hsla(0,0%,100%,.1) 20px);background:repeating-linear-gradient(45deg,rgba(0,0,0,.1),rgba(0,0,0,.1) 10px,hsla(0,0%,100%,.1) 0,hsla(0,0%,100%,.1) 20px)}div[data-usable=true].background[_ngcontent-%COMP%]{cursor:move}div[data-usable=false].background[_ngcontent-%COMP%]{pointer-events:none}div.W[_ngcontent-%COMP%]{left:-3px;top:0;bottom:0;width:6px}div[data-usable=true].W[_ngcontent-%COMP%]{cursor:w-resize}div[data-usable=false].W[_ngcontent-%COMP%]{pointer-events:none}div.E[_ngcontent-%COMP%]{right:-3px;top:0;bottom:0;width:6px}div[data-usable=true].E[_ngcontent-%COMP%]{cursor:e-resize}div[data-usable=false].E[_ngcontent-%COMP%]{pointer-events:none}div.N[_ngcontent-%COMP%]{left:0;right:0;top:-3px;height:6px}div[data-usable=true].N[_ngcontent-%COMP%]{cursor:n-resize}div[data-usable=false].N[_ngcontent-%COMP%]{pointer-events:none}div.S[_ngcontent-%COMP%]{left:0;right:0;bottom:-3px;height:6px}div[data-usable=true].S[_ngcontent-%COMP%]{cursor:s-resize}div[data-usable=false].S[_ngcontent-%COMP%]{pointer-events:none}div.NW[_ngcontent-%COMP%]{left:-3px;top:-3px;width:7px;height:7px}div[data-usable=true].NW[_ngcontent-%COMP%]{cursor:nw-resize}div[data-usable=false].NW[_ngcontent-%COMP%]{pointer-events:none}div.NE[_ngcontent-%COMP%]{right:-3px;top:-3px;width:7px;height:7px}div[data-usable=true].NE[_ngcontent-%COMP%]{cursor:ne-resize}div[data-usable=false].NE[_ngcontent-%COMP%]{pointer-events:none}div.SW[_ngcontent-%COMP%]{left:-3px;bottom:-3px;width:7px;height:7px}div[data-usable=true].SW[_ngcontent-%COMP%]{cursor:sw-resize}div[data-usable=false].SW[_ngcontent-%COMP%]{pointer-events:none}div.SE[_ngcontent-%COMP%]{right:-3px;bottom:-3px;width:7px;height:7px}div[data-usable=true].SE[_ngcontent-%COMP%]{cursor:se-resize}div[data-usable=false].SE[_ngcontent-%COMP%]{pointer-events:none}"]},kZql:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={production:!0}},lLaA:function(e,t,n){"use strict";var i=n("cEaH"),r=n("BBhp"),o=n("Uicy"),l=n("XrFs"),s=n("pHNC"),a=n("gLDo");n.d(t,"a",function(){return u});var u=function(){function e(e,t,n,i){this.previewCanvasService=e,this.dropZoneService=t,this.draggableItemService=n,this.dragService=i,this.sourceItem=null,this.draggableItem=null}return e.prototype.diffuseClick=function(e){this.dragService.diffuseClick(e)},e.prototype.onPanStart=function(e){(this.sourceItem||this.draggableItem)&&console.warn("PreviewDirective: expecting sourceItem and draggableItem to be null");var t=this.draggableItemService.getDraggableItem(e.target);t.isDragEnabled()&&(this.sourceItem=t,this.draggableItem=this.prepareClonedItem(this.sourceItem),this.anchorItem(this.draggableItem,e.center),this.dragService.onPanStart(this.draggableItem,e.center))},e.prototype.onPanMove=function(e){this.adjustPreviewVisibility(e.center),this.dragService.onPanMove(e.center)},e.prototype.onPanEnd=function(t){this.dragService.onPanEnd(t.center);var n=this.findDropZone(this.sourceItem,t.center);if(n){var i=e.addPreviewPadding(t.center);n.onDropZoneActivated(this.sourceItem,i)}this.draggableItem.remove(),this.draggableItem=null,this.sourceItem=null},e.prototype.onPanCancel=function(e){this.dragService.onPanCancel(e.center),this.draggableItem.remove(),this.draggableItem=null,this.sourceItem=null},e.prototype.findDropZone=function(t,n){var i=t.getData(e.DATA_ATTR_LABEL);return n=e.addPreviewPadding(n),this.dropZoneService.findDropZone(i,n)},e.prototype.prepareClonedItem=function(t){var n=t.getData(e.DATA_ATTR_PREVIEW_TEMPLATE);return n?this.draggableItemService.createDraggableItemFromTemplate(n):t.getRootlessCopy()},e.prototype.anchorItem=function(e,t){var n=this.previewCanvasService.getCanvas(),i=this.draggableItemService.getDraggableItem(s.a.getElement(n)),r=l.a.toParentElementPosition(n,t);e.makeChildOf(i),e.moveToPosition(r,null)},e.prototype.adjustPreviewVisibility=function(e){l.a.isInsideParentElement(this.previewCanvasService.getCanvas(),e)?this.draggableItem.isVisible()||this.draggableItem.show():this.draggableItem.isVisible()&&this.draggableItem.hide()},e.addPreviewPadding=function(t){return{x:t.x-e.PADDING,y:t.y-e.PADDING}},e.ctorParameters=function(){return[{type:i.a},{type:r.a},{type:o.a},{type:a.a}]},e}();u.PADDING=10,u.DATA_ATTR_PREVIEW_TEMPLATE="dragPreviewTemplate",u.DATA_ATTR_LABEL="dragLabel"},oF1N:function(e,t,n){"use strict";function i(e){return l._15(0,[(e()(),l._16(0,null,null,2,"editor-selection",[],null,null,null,s.a,s.b)),l._17(2121728,null,0,a.a,[u.a,c.a],{target:[0,"target"]},null),(e()(),l._18(null,["\n\n"]))],function(e,t){e(t,1,0,t.component.selectedElement.htmlDom)},null)}function r(e){return l._15(0,[(e()(),l._22(8388608,null,null,1,null,i)),l._17(8192,null,0,p.g,[l._0,l._1],{ngIf:[0,"ngIf"]},null),(e()(),l._18(null,["\n"]))],function(e,t){e(t,1,0,t.component.selectedElement)},null)}function o(e){return l._15(0,[(e()(),l._16(0,null,null,1,"editor-selection-layer",[],null,null,null,r,_)),l._17(122880,null,0,d.a,[h.a],null,null)],function(e,t){e(t,1,0)},null)}var l=n("3j3K"),s=n("NonS"),a=n("4Lvp"),u=n("gLDo"),c=n("Uicy"),p=n("2Je8"),d=n("Pw0H"),h=n("MHwn");n.d(t,"b",function(){return _}),t.a=r;var f=[],_=l._14({encapsulation:2,styles:f,data:{}});l._20("./editor-selection-layer",d.a,o,{},{},[])},oMyG:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e}()},oufc:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){this._spacing=10}return Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing=e,this.clearCanvas(),this.drawGrid()},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.drawGrid()},e.prototype.onResize=function(){this.drawGrid()},e.prototype.getCanvas=function(){return this.canvasElementRef.nativeElement},e.prototype.getCanvasContext=function(){return this.getCanvas().getContext("2d")},e.prototype.clearCanvas=function(){var e=this.getCanvas();this.getCanvasContext().clearRect(0,0,e.width,e.height)},e.prototype.drawGrid=function(){var e=this.getCanvas(),t=this.getCanvasContext();t.fillStyle="rgba(200,200,200,1)";for(var n=Math.ceil(e.width/this.spacing),i=Math.ceil(e.height/this.spacing),r=1;r<n;r++)for(var o=1;o<i;o++)t.fillRect(r*this.spacing,o*this.spacing,1,1)},e}()},pHNC:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e.getElement=function(e){return e.nativeElement},e.getParentElement=function(t){return e.getElement(t).parentElement},e}()},qnho:function(e,t,n){"use strict";var i=n("yLWm"),r=n("Gvdl");n.n(r);n.d(t,"b",function(){return o}),n.d(t,"a",function(){return l});var o=(function(){function e(e,t,n,i){this.id=e,this.htmlDom=t,this.selected=n,this.children=i}}(),function(){function e(){}return e.registerIsParentFor=function(t,n){t.dataset[e.DATA_ATTR_PARENT_FOR]=n},e.getIsParentFor=function(t){return t.dataset[e.DATA_ATTR_PARENT_FOR]},e.registerIsChildOf=function(t,n){t.dataset[e.DATA_ATTR_CHILD_OF]=n},e.getIsChildOf=function(t){return t.dataset[e.DATA_ATTR_CHILD_OF]},e.registerIsParentForRoot=function(t){e.registerIsParentFor(t,e.ROOT_PARENT_NAME)},e.registerIsChildOfRoot=function(t){e.registerIsChildOf(t,e.ROOT_PARENT_NAME)},e}());o.ROOT_PARENT_NAME="root",o.DATA_ATTR_PARENT_FOR="dragParentFor",o.DATA_ATTR_CHILD_OF="dragChildOf";var l=function(){function e(){this.nextElementId=0,this.elements=[],this.newElementAddedSubject=new r.Subject}return e.prototype.generateNextElementId=function(){return e.ID_PREFIX+this.nextElementId++},e.prototype.getEditorElement=function(e){var t=this.findArrayById(this.elements,e),n=t[0],i=t[1];return n?n[i]:null},e.prototype.findArrayById=function(e,t){if(!e)return[null,-1];for(var n=0;n<e.length;n++){if(e[n].id===t)return[e,n];if(e[n].children){var i=this.findArrayById(e[n].children,t),r=i[0],o=i[1];if(r)return[r,o]}}return[null,-1]},e.prototype.moveItemBefore=function(e,t){if(e!==t){var n=this.findArrayById(this.elements,e),i=n[0],r=n[1],o=i[r],l=this.findArrayById(this.elements,t),s=l[0],a=l[1],u=s[a];console.log("move item "+e+" before "+t),setTimeout(function(){r>a?(i.splice(r,1),s.splice(a,0,o)):(s.splice(a,0,o),i.splice(r,1)),o.htmlDom.parentNode.insertBefore(o.htmlDom,u.htmlDom.nextSibling)},0)}},e.prototype.moveItemAfter=function(e,t){if(e!==t){var n=this.findArrayById(this.elements,e),i=n[0],r=n[1],o=i[r],l=this.findArrayById(this.elements,t),s=l[0],a=l[1],u=s[a];console.log("move item "+e+" after "+t),setTimeout(function(){r>a?(i.splice(r,1),s.splice(a+1,0,o)):(s.splice(a+1,0,o),i.splice(r,1)),u.htmlDom.parentNode.insertBefore(o.htmlDom,u.htmlDom)},0)}},e.prototype.moveItemInside=function(e,t){if(e!==t){var n=this.findArrayById(this.elements,e),r=n[0],o=n[1],l=r[o],s=this.findArrayById(this.elements,t),a=s[0],u=s[1],c=a[u];console.log("move item "+e+" inside "+t);var p=this.findArrayById(l.children,t),d=p[0];p[1];if(d)return void console.debug("item "+e+" is parent of "+t);setTimeout(function(){c.children||(c.children=[]),c.children.splice(0,0,l),r.splice(o,1),i.a.of(l.htmlDom).positionType="static",i.a.of(l.htmlDom).positionType="absolute",c.htmlDom.appendChild(l.htmlDom)},0)}},e.prototype.generateEditorElement=function(t){var n={id:this.generateNextElementId(),htmlDom:i.b.fromTemplate(t),selected:!1};return n.htmlDom.dataset[e.ID_DATA_ATTR_NAME]=n.id,n},e.prototype.positionElement=function(e,t,n){i.c.of(e.htmlDom).applyTransformation(function(e){e.positionType="absolute",e.positionX=t,e.positionY=n})},e.prototype.addEditorElement=function(e,t,n){var i=this.generateEditorElement(e);this.positionElement(i,t,n),this.elements.splice(0,0,i),this.newElementAddedSubject.next(i),o.registerIsChildOfRoot(i.htmlDom)},e.prototype.subscribeToNewElementAdded=function(e){return this.newElementAddedSubject.subscribe(e)},e}();l.ID_DATA_ATTR_NAME="archetypeManagedId",l.ID_PREFIX="id#"},uWzP:function(e,t,n){"use strict";var i=n("3j3K"),r=n("qnho"),o=n("MHwn"),l=n("BBhp"),s=n("pHNC"),a=n("BjU0"),u=n("Uicy"),c=n("XrFs");n.d(t,"a",function(){return p});var p=function(){function e(e,t,n,i,r){this.elementRef=e,this.elementRepositoryService=t,this.elementSelectionService=n,this.dropZoneService=i,this.draggableItemService=r,this.subscription=null}return e.prototype.ngOnInit=function(){var e=this,t=s.a.getElement(this.elementRef).children[0];r.b.registerIsParentForRoot(t),this.subscription=this.elementRepositoryService.subscribeToNewElementAdded({next:function(n){var i=e.draggableItemService.getDraggableItem(n.htmlDom);a.a.registerAsDraggable(i),t.appendChild(n.htmlDom),e.elementSelectionService.select(n.id)}}),this.dropZoneService.addDropZone(this)},e.prototype.ngOnDestroy=function(){this.dropZoneService.removeDropZone(this),this.subscription.unsubscribe()},e.prototype.isInDropZone=function(e,t){return"palette"===e&&c.a.isInsideElement(this.elementRef,t)},e.prototype.onDropZoneActivated=function(e,t){var n=c.a.toElementPosition(this.elementRef,t),i=n.x,r=n.y;e.getData("dragPreviewTemplate")&&this.elementRepositoryService.addEditorElement(e.getData("dragPreviewTemplate"),i,r)},e.prototype.onTapHost=function(e){this.selectElement(e.target)},e.prototype.onPanStart=function(e){this.selectElement(e.detail.target)},e.prototype.selectElement=function(e){this.elementSelectionService.select(e.dataset[r.a.ID_DATA_ATTR_NAME])},e.ctorParameters=function(){return[{type:i.V},{type:r.a},{type:o.a},{type:l.a},{type:u.a}]},e}()},vItg:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(e){this.listener=e}return e.prototype.diffuseClick=function(e){this.listener.diffuseClick(e)},e.prototype.onTap=function(e,t){this.listener.onTap(e,t)},e.prototype.onPanStart=function(e,t,n){this.listener.onPanStart(e,t,n)},e.prototype.onPanMove=function(e){this.listener.onPanMove(e)},e.prototype.onPanEnd=function(e){this.listener.onPanEnd(e)},e.prototype.onPanCancel=function(e){this.listener.onPanCancel(e)},e}()},vaAh:function(e,t,n){"use strict";function i(e){return l._15(0,[(e()(),l._16(0,null,null,1,"editor-background-layer",[],null,[["window","resize"]],function(e,t,n){var i=!0;if("window:resize"===t){i=!1!==l._19(e,1).onResize(n)&&i}return i},s.a,s.b)),l._17(2121728,null,0,a.a,[],{spacing:[0,"spacing"]},null),(e()(),l._18(null,["\n\n"])),(e()(),l._16(0,null,null,1,"editor-compositor-layer",[],null,[[null,"tap"],[null,"panstart-delegate"]],function(e,t,n){var i=!0;if("tap"===t){i=!1!==l._19(e,4).onTapHost(n)&&i}if("panstart-delegate"===t){i=!1!==l._19(e,4).onPanStart(n)&&i}return i},u.a,u.b)),l._17(122880,null,0,c.a,[l.V,p.a,d.a,h.a,f.a],null,null),(e()(),l._18(null,["\n\n"])),(e()(),l._16(0,null,null,1,"editor-selection-layer",[],null,null,null,_.a,_.b)),l._17(122880,null,0,g.a,[d.a],null,null),(e()(),l._18(null,["\n"]))],function(e,t){e(t,1,0,10),e(t,4,0),e(t,7,0)},null)}function r(e){return l._15(0,[(e()(),l._16(0,null,null,1,"editor",[],null,null,null,i,b)),l._17(24576,null,0,m.a,[],null,null)],null,null)}var o=n("zBCJ"),l=n("3j3K"),s=n("fkE3"),a=n("oufc"),u=n("ChwI"),c=n("uWzP"),p=n("qnho"),d=n("MHwn"),h=n("BBhp"),f=n("Uicy"),_=n("oF1N"),g=n("Pw0H"),m=n("fT39");n.d(t,"b",function(){return b}),t.a=i;var v=[o.a],b=l._14({encapsulation:0,styles:v,data:{}});l._20("editor",m.a,r,{},{},[])},x35b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("3j3K"),r=n("kZql"),o=n("Qbdm"),l=n("KM2C");r.a.production&&n.i(i.a)(),n.i(o.a)().bootstrapModuleFactory(l.a).then(function(e){return console.debug("Bootstrap success")}).catch(function(e){return console.error(e)})},yLWm:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o});var i=function(){function e(){}return e.fromTemplate=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},e.div=function(){return document.createElement("div")},e}(),r=function(){function e(e){this.element=e}return e.of=function(t){return new e(t)},Object.defineProperty(e.prototype,"positionType",{get:function(){return this.element.style.position},set:function(e){this.recalculatePositionAfterTypeChange(this.element.style.position,e),this.element.style.position=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positionX",{get:function(){return e.stringPx(this.element.style.left)},set:function(e){this.element.style.left=e?e+"px":null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positionY",{get:function(){return e.stringPx(this.element.style.top)},set:function(e){this.element.style.top=e?e+"px":null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"proxy",{get:function(){return this},enumerable:!0,configurable:!0}),e.prototype.recalculatePositionAfterTypeChange=function(e,t){"static"===t?(this.positionX=null,this.positionY=null):"absolute"===t&&(this.positionX=0,this.positionY=0)},e.stringPx=function(e){return Number(e.slice(0,-2))},e}(),o=function(){function e(e){this.element=e}return e.of=function(t){return new e(t)},e.prototype.done=function(){return this.element},e.prototype.applyTransformation=function(e){return e(r.of(this.element)),this},Object.defineProperty(e.prototype,"innerWidth",{get:function(){return this.element.clientWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerHeight",{get:function(){return this.element.clientHeight},enumerable:!0,configurable:!0}),e.prototype.addClass=function(e){return this.element.classList.add(e),this},e.prototype.positionOnTop=function(){return this.element.style.position="absolute",this.element.style.zIndex="9999",this},e.prototype.setOpacity=function(e){return this.element.style.opacity=""+e,this},Object.defineProperty(e.prototype,"clientRect",{get:function(){return this.element.getBoundingClientRect()},enumerable:!0,configurable:!0}),e}()},yhao:function(e,t,n){"use strict";var i=n("3j3K");n.d(t,"a",function(){return r});var r=function(){function e(e){this.elementRef=e}return e.prototype.ngAfterViewInit=function(){this.copyParentSize()},e.prototype.onResize=function(){this.copyParentSize()},e.prototype.copyParentSize=function(){var e=this.elementRef.nativeElement,t=e.parentNode;e.width=t.width||t.clientWidth,e.height=t.height||t.clientHeight},e.ctorParameters=function(){return[{type:i.V}]},e}()},zBCJ:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=["editor-background-layer[_ngcontent-%COMP%]{pointer-events:none;position:absolute;width:100%;height:100%;z-index:0}editor-compositor-layer[_ngcontent-%COMP%]{z-index:1}editor-compositor-layer[_ngcontent-%COMP%], editor-selection-layer[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden}editor-selection-layer[_ngcontent-%COMP%]{pointer-events:none;z-index:2}"]}},[0]);